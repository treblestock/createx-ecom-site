import{d as I,O as j,Q as b,r as k,o as u,h,e as _,a as g,w,l as q,_ as x,F as A,z as L,c as H,t as K,g as m,n as V,Z as oe,b as o,$ as re,i as se,D as le,E as ae,v as J,H as ne,C as ie,y as p,A as Q,a0 as de,a1 as ue,L as ce,R as pe,a2 as ve}from"./index-I1IZfXoz.js";import{P as fe,u as me}from"./usePagination-N2O9MrkM.js";import{P as Ce}from"./ProductCard-PrPXiE1D.js";import{C as ge}from"./ColorInput-Ou7rRVpw.js";import{c as Ve,d as $}from"./strings-Htb0e1Do.js";import{c as N,a as ye,s as _e,d as he,m as be,e as Se,f as Pe}from"./different-YukEj1iR.js";import{u as Me,M as we}from"./useViewPort-8EcQkdyj.js";import{M as Ue}from"./MailingSubscribtion-r6T75Vjg.js";import"./Arrow-FTpbqNTp.js";import"./Rating-xJFpUWcC.js";import"./useMobileSidebar-G9rx0xuY.js";const Te={class:"sort-and-filters"},Fe={class:"toolbar"},ze=I({__name:"ProductsSortAndPagination",props:j({pages:{},sortOptions:{}},{selectedSort:{required:!0},currentPage:{required:!0},limit:{required:!0}}),emits:["update:selectedSort","update:currentPage","update:limit"],setup(a){const r=b(a,"selectedSort"),s=b(a,"currentPage"),c=b(a,"limit");return(v,i)=>{const f=k("SelectGroup"),C=k("InputNumberGroup");return u(),h("div",Te,[_("div",Fe,[g(f,{class:"sort",classSelect:"sort-select",vertical:"",modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=n=>r.value=n),options:v.sortOptions},{default:w(()=>[q(" Sort by ")]),_:1},8,["modelValue","options"]),g(C,{class:"limit",vertical:"",modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=n=>c.value=n)},{default:w(()=>[q(" Show ")]),_:1},8,["modelValue"])]),g(fe,{class:"pagination",pages:v.pages,modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=n=>s.value=n)},null,8,["pages","modelValue"])])}}}),X=x(ze,[["__scopeId","data-v-327cb29a"]]),$e={class:"colors"},He=I({__name:"ProductColorFilter",props:j({possibleValues:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(a){const r=b(a,"modelValue");return(s,c)=>(u(),h("div",$e,[(u(!0),h(A,null,L(s.possibleValues,(v,i)=>(u(),H(ge,{class:"product-color",key:i,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f),value:v,name:"productColors"},null,8,["modelValue","value"]))),128))]))}}),xe=x(He,[["__scopeId","data-v-2f342788"]]),ke={class:"filter-spoiler-inner"},Ie=I({__name:"ProductCheckboxFilter",props:j({possibleValues:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(a){const r=b(a,"modelValue");return(s,c)=>{const v=k("CheckboxGroup");return u(),h("div",ke,[(u(!0),h(A,null,L(s.possibleValues,i=>(u(),H(v,{class:"filter-item",key:i,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f),value:i},{default:w(()=>[q(K(i),1)]),_:2},1032,["modelValue","value"]))),128))])}}}),Be=x(Ie,[["__scopeId","data-v-15fd87f2"]]),Ze={class:"product-filters"},Oe=I({__name:"ProductFilters",props:{categoryMinorClothType:{required:!0},brand:{required:!0},materials:{required:!0},sizes:{required:!0},colors:{required:!0}},emits:["update:categoryMinorClothType","update:brand","update:materials","update:sizes","update:colors"],setup(a){const r=b(a,"categoryMinorClothType"),s=b(a,"brand"),c=b(a,"materials"),v=b(a,"sizes"),i=b(a,"colors"),f={clothes:m(()=>N.filter(d=>$(d,n.value.clothes))),accessories:m(()=>ye.filter(d=>$(d,n.value.accessories))),shoes:m(()=>_e.filter(d=>$(d,n.value.shoes))),brand:m(()=>he.filter(d=>$(d,n.value.brand))),material:m(()=>be.filter(d=>$(d,n.value.material))),color:m(()=>Se),size:m(()=>Pe.filter(d=>$(d,n.value.size)))},C={clothes:r,accessories:r,shoes:r,brand:s,material:c,color:i,size:v},n=V({clothes:"",accessories:"",shoes:"",brand:"",material:"",size:""}),S={color:xe};m(()=>N.filter(d=>$(d,n.value.clothes)));function P(d){return S[d]||Be}function M(d){return f[d].value}return(d,Z)=>{const E=k("Input"),R=k("Spoiler");return u(),h("div",Ze,[(u(),h(A,null,L(f,(D,y)=>g(R,{class:"filter-spoiler",maxBodyHeight:"22rem",key:y,innerBorder:""},oe({title:w(()=>[q(K(o(Ve)(y)),1)]),default:w(()=>[(u(),H(re(P(y)),{modelValue:C[y].value,"onUpdate:modelValue":F=>C[y].value=F,possibleValues:M(y)},null,8,["modelValue","onUpdate:modelValue","possibleValues"]))]),_:2},[y in o(n)?{name:"header",fn:w(()=>[g(E,{class:"spoiler _s",modelValue:o(n)[y],"onUpdate:modelValue":F=>o(n)[y]=F,placeholder:"Search for clothes type"},null,8,["modelValue","onUpdate:modelValue"])]),key:"0"}:void 0]),1024)),64))])}}}),Y=x(Oe,[["__scopeId","data-v-469ab5a7"]]),qe={},Ae={class:"icon-wrapper"},Le=se('<svg class="icon icon-idle" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-fe1120e1><path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 9.5C7.05228 9.5 7.5 9.94771 7.5 10.5L7.5 21.75C7.5 22.3023 7.05229 22.75 6.5 22.75C5.94772 22.75 5.5 22.3023 5.5 21.75L5.5 10.5C5.5 9.94771 5.94772 9.5 6.5 9.5Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 1.25C7.05228 1.25 7.5 1.69772 7.5 2.25V5.25C7.5 5.80228 7.05228 6.25 6.5 6.25C5.94771 6.25 5.5 5.80228 5.5 5.25V2.25C5.5 1.69772 5.94772 1.25 6.5 1.25Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M1 7.25C1 5.59315 2.34315 4.25 4 4.25H9C10.6569 4.25 12 5.59315 12 7.25V8.5C12 10.1569 10.6569 11.5 9 11.5H4C2.34315 11.5 1 10.1569 1 8.5V7.25ZM4 6.25C3.44772 6.25 3 6.69772 3 7.25V8.5C3 9.05228 3.44772 9.5 4 9.5H9C9.55228 9.5 10 9.05228 10 8.5V7.25C10 6.69772 9.55228 6.25 9 6.25H4Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 17.75C18.0523 17.75 18.5 18.1977 18.5 18.75V21.75C18.5 22.3023 18.0523 22.75 17.5 22.75C16.9477 22.75 16.5 22.3023 16.5 21.75V18.75C16.5 18.1977 16.9477 17.75 17.5 17.75Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 1.25C18.0523 1.25 18.5 1.69772 18.5 2.25V13.5C18.5 14.0523 18.0523 14.5 17.5 14.5C16.9477 14.5 16.5 14.0523 16.5 13.5V2.25C16.5 1.69772 16.9477 1.25 17.5 1.25Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15.5C12 13.8431 13.3431 12.5 15 12.5H20C21.6569 12.5 23 13.8431 23 15.5V16.75C23 18.4069 21.6569 19.75 20 19.75H15C13.3431 19.75 12 18.4069 12 16.75V15.5ZM15 14.5C14.4477 14.5 14 14.9477 14 15.5V16.75C14 17.3023 14.4477 17.75 15 17.75H20C20.5523 17.75 21 17.3023 21 16.75V15.5C21 14.9477 20.5523 14.5 20 14.5H15Z" fill="currentColor" data-v-fe1120e1></path></svg><svg class="icon icon-active" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-fe1120e1><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 9.5C18.0523 9.5 18.5 9.94771 18.5 10.5V21.75C18.5 22.3023 18.0523 22.75 17.5 22.75C16.9477 22.75 16.5 22.3023 16.5 21.75L16.5 10.5C16.5 9.94771 16.9477 9.5 17.5 9.5Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 1.25C18.0523 1.25 18.5 1.69772 18.5 2.25V5.25C18.5 5.80228 18.0523 6.25 17.5 6.25C16.9477 6.25 16.5 5.80228 16.5 5.25V2.25C16.5 1.69772 16.9477 1.25 17.5 1.25Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 7.25C12 5.59315 13.3431 4.25 15 4.25H20C21.6569 4.25 23 5.59315 23 7.25V8.5C23 10.1569 21.6569 11.5 20 11.5H15C13.3431 11.5 12 10.1569 12 8.5V7.25ZM15 6.25C14.4477 6.25 14 6.69772 14 7.25V8.5C14 9.05228 14.4477 9.5 15 9.5H20C20.5523 9.5 21 9.05228 21 8.5V7.25C21 6.69772 20.5523 6.25 20 6.25H15Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 17.75C7.05228 17.75 7.5 18.1977 7.5 18.75V21.75C7.5 22.3023 7.05229 22.75 6.5 22.75C5.94772 22.75 5.5 22.3023 5.5 21.75V18.75C5.5 18.1977 5.94772 17.75 6.5 17.75Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 1.25C7.05228 1.25 7.5 1.69772 7.5 2.25V13.5C7.5 14.0523 7.05228 14.5 6.5 14.5C5.94772 14.5 5.5 14.0523 5.5 13.5V2.25C5.5 1.69772 5.94772 1.25 6.5 1.25Z" fill="currentColor" data-v-fe1120e1></path><path fill-rule="evenodd" clip-rule="evenodd" d="M1 15.5C1 13.8431 2.34315 12.5 4 12.5H9C10.6569 12.5 12 13.8431 12 15.5V16.75C12 18.4069 10.6569 19.75 9 19.75H4C2.34315 19.75 1 18.4069 1 16.75V15.5ZM4 14.5C3.44772 14.5 3 14.9477 3 15.5V16.75C3 17.3023 3.44772 17.75 4 17.75H9C9.55228 17.75 10 17.3023 10 16.75V15.5C10 14.9477 9.55228 14.5 9 14.5H4Z" fill="currentColor" data-v-fe1120e1></path></svg>',2),Ee=[Le];function Re(a,r){return u(),h("div",Ae,Ee)}const De=x(qe,[["render",Re],["__scopeId","data-v-fe1120e1"]]);function We(a,r){const s=Array.isArray(a)?a:[a],c=Array.isArray(r)?r:[r];return!!s.find(v=>c.includes(v))}function Ge(a,r,s){const c=r[s].value;return c.size?a.value.filter(v=>{let i=!1;return c.forEach(f=>{i||(i=We(v[s],f))}),i}):a.value}function Qe(a){const r={categorySex:V(new Set),categoryMinorClothType:V(new Set),brand:V(new Set),materials:V(new Set),colors:V(new Set),sizes:V(new Set)};function s(){r.categorySex.value.clear(),r.categoryMinorClothType.value.clear(),r.brand.value.clear(),r.materials.value.clear(),r.colors.value.clear(),r.sizes.value.clear()}return{items:m(()=>Object.keys(r).reduce((i,f)=>m(()=>Ge(i,r,f)),a).value),...r,resetFilters:s}}const je={class:"wrapper"},Ke={class:"products-header"},Je={class:"toggle-sidebar-text"},Ne={class:"sidebar-popuped",ref:"sidebarHtml"},Xe={class:"middle"},Ye={key:0,class:"filters-sidebar"},et={class:"products-main"},tt={class:"products-footer"},ot=840,rt=I({__name:"ProductsGrid",setup(a){const r=le(),s=V(!0),c=V(null),v=m(()=>r.products),{items:i,categorySex:f,categoryMinorClothType:C,brand:n,materials:S,sizes:P,colors:M,resetFilters:d}=Qe(v),Z=V(!1),E=m(()=>Z.value?i.value.filter(l=>l.discount):i.value);function R(){Z.value=!1,d()}const D=ae();J(y),ne(D,()=>{R(),y(),T.value=1});function y(){const l=D.query;l.categorySex&&f.value.add(l.categorySex),Object.keys(l).length&&(l.categoryMinorClothType&&C.value.add(l.categoryMinorClothType),l.brand&&n.value.add(l.brand),l.materials&&S.value.add(l.materials),l.sizes&&P.value.add(l.sizes),l.colors&&M.value.add(l.colors),l.sale&&(Z.value=!0))}const F={none:void 0,rating:(l,e)=>e.rating-l.rating,"price up":(l,e)=>{const B=l.price*(100-(l.discount||0)),t=e.price*(100-(e.discount||0));return B-t},"price down":(l,e)=>{const B=l.price*(100-(l.discount||0));return e.price*(100-(e.discount||0))-B}},U=V(F.none),O=m(()=>{const l=E.value;return typeof U.value!="function"?l:l.sort(U.value)}),z=V(8),T=V(1),{currentInds:ee,pages:W}=me({items:O,limit:z,currentPage:T}),{vw:te}=Me(),G=m(()=>te.value<ot);return J(()=>{G.value&&(s.value=!1)}),(l,e)=>{const B=k("Btn");return u(),h("div",je,[_("header",Ke,[g(B,{class:"toggle-sidebar _with-icon btn_l",onClick:e[0]||(e[0]=t=>s.value=!o(s))},{default:w(()=>[g(De,{class:ie({_active:o(s)})},null,8,["class"]),_("span",Je,K(o(s)?"Hide filters":"Open filters"),1)]),_:1}),g(X,{class:"sorts",selectedSort:o(U),"onUpdate:selectedSort":e[1]||(e[1]=t=>p(U)?U.value=t:null),sortOptions:F,pages:o(W),currentPage:o(T),"onUpdate:currentPage":e[2]||(e[2]=t=>p(T)?T.value=t:null),limit:o(z),"onUpdate:limit":e[3]||(e[3]=t=>p(z)?z.value=t:null)},null,8,["selectedSort","pages","currentPage","limit"])]),o(G)?(u(),H(we,{key:0,isShown:o(s),onOpen:e[9]||(e[9]=t=>s.value=!0),onClose:e[10]||(e[10]=t=>s.value=!1),onToggle:e[11]||(e[11]=t=>s.value=!o(s))},{default:w(()=>[_("div",Ne,[g(Y,{categoryMinorClothType:o(C),"onUpdate:categoryMinorClothType":e[4]||(e[4]=t=>p(C)?C.value=t:null),brand:o(n),"onUpdate:brand":e[5]||(e[5]=t=>p(n)?n.value=t:null),materials:o(S),"onUpdate:materials":e[6]||(e[6]=t=>p(S)?S.value=t:null),sizes:o(P),"onUpdate:sizes":e[7]||(e[7]=t=>p(P)?P.value=t:null),colors:o(M),"onUpdate:colors":e[8]||(e[8]=t=>p(M)?M.value=t:null)},null,8,["categoryMinorClothType","brand","materials","sizes","colors"])],512)]),_:1},8,["isShown"])):Q("",!0),_("div",Xe,[o(G)?Q("",!0):(u(),H(ue,{key:0,name:"shift-right-enter"},{default:w(()=>[(u(),H(de,null,[o(s)?(u(),h("div",Ye,[g(Y,{categoryMinorClothType:o(C),"onUpdate:categoryMinorClothType":e[12]||(e[12]=t=>p(C)?C.value=t:null),brand:o(n),"onUpdate:brand":e[13]||(e[13]=t=>p(n)?n.value=t:null),materials:o(S),"onUpdate:materials":e[14]||(e[14]=t=>p(S)?S.value=t:null),sizes:o(P),"onUpdate:sizes":e[15]||(e[15]=t=>p(P)?P.value=t:null),colors:o(M),"onUpdate:colors":e[16]||(e[16]=t=>p(M)?M.value=t:null)},null,8,["categoryMinorClothType","brand","materials","sizes","colors"])])):Q("",!0)],1024))]),_:1})),_("div",et,[_("section",{class:"products-grid grid",ref_key:"productCardsHtml",ref:c},[(u(!0),h(A,null,L(o(ee),t=>(u(),H(Ce,ce({class:"product-card",key:o(O)[t].id},o(O)[t],{img:o(O)[t].imgs[0]}),null,16,["img"]))),128))],512),_("footer",tt,[pe(g(X,{class:"sorts",selectedSort:o(U),"onUpdate:selectedSort":e[17]||(e[17]=t=>p(U)?U.value=t:null),sortOptions:F,pages:o(W),currentPage:o(T),"onUpdate:currentPage":e[18]||(e[18]=t=>p(T)?T.value=t:null),limit:o(z),"onUpdate:limit":e[19]||(e[19]=t=>p(z)?z.value=t:null)},null,8,["selectedSort","pages","currentPage","limit"]),[[ve,o(W).length>1]])])])])])}}}),st=x(rt,[["__scopeId","data-v-8f0f3ad6"]]),lt={class:"page"},at={class:"section-180"},nt={class:"container"},it={class:"pv-100 bgc-gray-200",id:"subscribe-mailing"},dt={class:"container"},ut=I({__name:"products",setup(a){return(r,s)=>(u(),h("div",lt,[_("section",at,[_("div",nt,[g(st,{class:"products-section"})])]),_("section",it,[_("div",dt,[g(Ue)])])]))}}),bt=x(ut,[["__scopeId","data-v-6b46e5f6"]]);export{bt as default};

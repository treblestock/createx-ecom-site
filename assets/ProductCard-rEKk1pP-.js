import{d as S,n as V,r as g,h as c,F as P,z as y,o as n,c as h,w as _,e as r,t as z,b as i,y as b,_ as k,O as $,Q as U,f as w,u as A,g as L,a as t,C as M,P as N,M as E,A as T,I as q,l as B}from"./index-pDbPBkRX.js";import{R as D}from"./Rating-kAAtyI2H.js";import{C as H}from"./ColorInput-q_nIjie1.js";const O={class:"sizes"},Q={class:"text-xs"},j=S({__name:"ProductSizes",props:{sizes:{}},setup(u){const a=V(u.sizes[0]);return(o,s)=>{const l=g("RadioBtn");return n(),c("div",O,[(n(!0),c(P,null,y(o.sizes,m=>(n(),h(l,{class:"size",key:m,name:"size",value:m,modelValue:i(a),"onUpdate:modelValue":s[0]||(s[0]=f=>b(a)?a.value=f:null)},{default:_(()=>[r("span",Q,z(m),1)]),_:2},1032,["value","modelValue"]))),128))])}}}),G=k(j,[["__scopeId","data-v-7420bad5"]]),J={class:"product-colors"},K=S({__name:"ProductColors",props:$({colors:{}},{modelValue:{}}),emits:["update:modelValue"],setup(u){const p=U(u,"modelValue");return(a,o)=>(n(),c("div",J,[(n(!0),c(P,null,y(a.colors,s=>(n(),h(H,{class:"product-color",key:s,modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=l=>p.value=l),value:s,name:"productColors"},null,8,["modelValue","value"]))),128))]))}}),W=k(K,[["__scopeId","data-v-e84d0719"]]),X={class:"card"},Y={class:"visible"},Z={class:"img"},x=["src"],ee={class:"labels"},se={key:0,class:"label-sale label-l"},oe={class:"description"},te=S({__name:"ProductCard",props:{id:{},imgs:{},name:{},price:{},discount:{},isFavourite:{type:Boolean},rating:{},colors:{},sizes:{}},setup(u){const p=w(),a=A(),o=u,s=V(o.colors[0]),l=V(o.sizes[0]);function m(){p.setCount({productId:o.id,size:l.value,color:s.value},1)}const f="/createx-ecom-site/",F=a.toggleFavourite,I=L(()=>a.isFavourite(o.id));return(e,d)=>{const C=g("AppLink"),R=g("Btn");return n(),c("article",X,[r("div",Y,[r("div",Z,[r("img",{src:i(f)+e.imgs[0]},null,8,x),r("div",ee,[t(C,{class:"sale-link",to:{name:"products",query:{sale:"y"}}},{default:_(()=>[e.discount?(n(),c("div",se,z(e.discount),1)):T("",!0)]),_:1}),t(C,{class:"rating",to:{name:"productReviews",params:{id:e.id}}},{default:_(()=>[t(D,{class:"start",rating:e.rating},null,8,["rating"])]),_:1},8,["to"]),r("button",{class:M(["icon-circle favourite-label",{_active:i(I)}]),onClick:d[0]||(d[0]=v=>i(F)(e.id))},[t(i(q),{class:"icon-heart"})],2)])]),r("div",oe,[t(C,{class:"product-name text-l",to:{name:"product",params:{id:e.id}}},{default:_(()=>[B(z(e.name),1)]),_:1},8,["to"]),t(N,{class:"product-price",price:e.price,discount:e.discount},null,8,["price","discount"])])]),r("form",{class:"popover",onSubmit:E(m,["prevent"])},[t(G,{class:"sizes",sizes:e.sizes,modelValue:i(l),"onUpdate:modelValue":d[1]||(d[1]=v=>b(l)?l.value=v:null)},null,8,["sizes","modelValue"]),t(W,{class:"colors",colors:e.colors,modelValue:i(s),"onUpdate:modelValue":d[2]||(d[2]=v=>b(s)?s.value=v:null)},null,8,["colors","modelValue"]),t(R,{class:"cart-add-btn",type:"submit"},{default:_(()=>[B("add to cart")]),_:1})],32)])}}}),ne=k(te,[["__scopeId","data-v-0b0cdd5e"]]);export{ne as P};
